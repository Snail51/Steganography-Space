<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Steganography</title>
        <link rel="icon" href="./Resources/js_icon.jpg" type="jpg">
    </head>
    <body style="background-color: rgb(44, 46, 54); color: whitesmoke; font-size: 24px;">
        
        <input type="file" id="source">
        <div>
            <button onclick="window.functions[0]()">Single Bytes</button>
            <button onclick="window.functions[1]()">Single Text</button>
            <button onclick="window.functions[2]()">Multiple Bytes</button>
            <button onclick="window.functions[3]()">MultipleText</button>
        </div>
        <p id="display" style="word-break: break-word; max-width: 95vw;"></p>
        <button id="continue" onclick="proceed()" disabled="true">Execute</button>

        <script type="module">
            import { Reader } from "./Code/src/reader.js";
            var Main = new Reader("source");
            window.main = Main;
            window.functions = new Array();

            window.functions.push(async function()
            {
                var obj = await window.main.readSingleAsBytes();
                console.log(obj);
                document.getElementById("display").innerHTML = JSON.stringify(obj);
            });
            window.functions.push(async function()
            {
                var obj = await window.main.readSingleAsText();
                console.log(obj);
                document.getElementById("display").innerHTML = JSON.stringify(obj);
            });
            window.functions.push(async function()
            {
                var obj = await window.main.readMultipleAsBytes();
                console.log(obj);
                document.getElementById("display").innerHTML = JSON.stringify(obj);
            });
            window.functions.push(async function()
            {
                var obj = await window.main.readMultipleAsText();
                console.log(obj);
                document.getElementById("display").innerHTML = JSON.stringify(obj);
            });

            setInterval(function(){
                if(window.main.done == true && document.getElementById("source").files.length > 0)
                {
                    document.getElementById("continue").disabled = false;
                }
                else
                {
                    document.getElementById("continue").disabled = true;
                }
            }, 1000)
        </script>

        <script>
            function navigateRoot()
            {
                window.location.href = "./index.html";
            }
            function proceed()
            {
                alert("program execution would now countine");
            }
        </script>

        <hr>
        <i style="color: whitesmoke;">This tool was developed by Brendan Rood in the spring of 2024</i>
    </body>
</html>
