export class Base8Sub{constructor(){switch(this.spaces="",this.spaceType="SPACE",this.spaceType){case"SPACE":this.spaces=" \xa0         ";break;case"BILLIARDS":this.spaces="⓪①②③④⑤⑥⑦⑧⑨Ⓐ";break;default:console.error("Invalid spaceType set in Base8Sub constructor"),this.spaces=null}}encode(e,s){var t,a,r=function e(s,t){let a=RegExp("(?<![ ])[ ](?![ ])","g");return((s||"").match(a)||[]).length}(s=(t=s,a=this.spaces,t.replace(RegExp("["+a+"]","g")," ")),this.spaces);if(r<=e.length+1){var c="Cover is not large enough. Trying to fit "+(e.length+2)+" characters into "+r+" space (needs "+(e.length+2-r)+" more).";return console.warn(c),alert(c),null}var n="";for(var i of e){var u=Number.parseInt(i,8);n+=this.spaces[u]}var $=0,h=!1;return s.replace(/(?<![ ])[ ](?![ ])/g,(function(e){var s="";return $>=n.length?h?s=this.spaces[0]:(h=!0,s=this.spaces[1]):(s=n[$],$++),s}).bind(this))}decode(e){var s="(?<!["+this.spaces+"])["+this.spaces+"](?!["+this.spaces+"])",t="";return e.replace(RegExp(s,"g"),(function(e){var s=this.spaces.indexOf(e).toString(8);return t+=s,s}).bind(this)),t=t.replace(/10*$/gm,"")}}