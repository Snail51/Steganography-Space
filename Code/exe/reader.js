// MINIFIED VERSION OF THE FILE OF THE SAME NAME IN THE `src` FOLDER
// MINIFIED WITH https://www.toptal.com/developers/javascript-minifier
// MINIFIED AT Sat Apr 19 17:08:14 CDT 2025

export class Reader{constructor(t){this.element=document.getElementById(t),this.data="",this.done=!1}async readSingleAsBinary(){this.done=!1;var t=this.collectMetadata(this.element.files[0]);t.data=await this.binaryRead(this.element.files[0]);var a=i(t.name),e=a.length/8;if((e=(e=e.toString(2)).padStart(16,"0")).length>16)return console.warn("name was way too large???"),null;var r=i(t.type),n=r.length/8;if((n=(n=n.toString(2)).padStart(16,"0")).length>16)return console.warn("name was way too large???"),null;return t.data=t.data+a+r+e+n,this.done=!0,t;function i(t){let a=new TextEncoder;var e=encodeURIComponent(t);e=a.encode(e);var r="";for(var n of e){var i=n.toString(2);r+=i=i.padStart(8,"0")}return r}}async readSingleAsBytes(){this.done=!1;var t=this.collectMetadata(this.element.files[0]);return t.data=await this.byteRead(this.element.files[0]),this.done=!0,t}async readSingleAsText(){this.done=!1;var t=this.collectMetadata(this.element.files[0]);return t.data=await this.textRead(this.element.files[0]),this.done=!0,t}async readMultipleAsBinary(){this.done=!1;var t=[];for(var a of this.element.files){var e=this.collectMetadata(a);e.data=await this.binaryRead(a),t.push(e)}return this.done=!0,t}async readMultipleAsBytes(){this.done=!1;var t=[];for(var a of this.element.files){var e=this.collectMetadata(a);e.data=await this.byteRead(a),t.push(e)}return this.done=!0,t}async readMultipleAsText(){this.done=!1;var t=[];for(var a of this.element.files){var e=this.collectMetadata(a);e.data=await this.textRead(a),t.push(e)}return this.done=!0,t}collectMetadata(t){return{name:t.name,type:t.type,size:t.size,data:""}}async textRead(t){return this.data="",await new Promise((a,e)=>{let r=new FileReader;r.onload=function(t){a(t.target.result)},r.onerror=function(t){e(t)},r.readAsText(t)}).then(t=>{this.data=t}),this.data}async binaryRead(t){return this.data="",await new Promise((a,e)=>{let r=new FileReader;r.onload=function(t){a(t.target.result)},r.onerror=function(t){e(t)},r.readAsArrayBuffer(t)}).then(t=>{var a=new Uint8Array(t),e="";for(var r of a){var n=r.toString(2);e+=n=i(n,8,"0")}function i(t,a,e){for(var r=t;r.length<a;)r=e+r;return r}this.data=e}),this.data}async byteRead(t){return this.data="",await new Promise((a,e)=>{let r=new FileReader;r.onload=function(t){a(t.target.result)},r.onerror=function(t){e(t)},r.readAsArrayBuffer(t)}).then(t=>{var a=new Uint8Array(t);this.data=a}),this.data}static stringToBinary(t){var a="";for(var e of t){var r=e.charCodeAt(0).toString(2);a+=r=r.padStart(8,"0")}return a}}